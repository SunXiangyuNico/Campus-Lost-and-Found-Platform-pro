import{u as C,r as D,c as u,o as T,s as w,b as a,e,x as r,z as l,F as N,A as U,j as V,h as B,l as M,m as R,d as i}from"./index-QOScO0--.js";const h={style:{padding:"20px","font-family":"monospace"}},F={style:{background:"#f5f5f5",padding:"15px",margin:"10px 0","border-radius":"5px"}},j={style:{background:"#fff2e8",padding:"15px",margin:"10px 0","border-radius":"5px"}},z={style:{background:"#e8f5e8",padding:"15px",margin:"10px 0","border-radius":"5px"}},A={key:0},O={__name:"Debug",setup(E){const s=C(),d=w(),p=D([]),m=u(()=>!!s.token),k=u(()=>!!s.userInfo),v=u(()=>!!(s.userInfo&&s.userInfo.id)),g=u(()=>s.isLogin),f=u(()=>g.value),y=u(()=>s.token?s.token.substring(0,20)+"...":"æ— "),b=u(()=>s.userInfo?JSON.stringify(s.userInfo,null,2):"æ— ");function t(o){const n=new Date().toLocaleTimeString();p.value.push(`[${n}] ${o}`)}async function c(){t("å¼€å§‹åˆ·æ–°ç”¨æˆ·ä¿¡æ¯...");try{const o=await s.refreshUserInfo();t(`ç”¨æˆ·ä¿¡æ¯åˆ·æ–°ç»“æœ: ${o}`)}catch(o){t(`ç”¨æˆ·ä¿¡æ¯åˆ·æ–°å¤±è´¥: ${o.message}`)}}function I(){t("å°è¯•è·³è½¬åˆ°æ¶ˆæ¯é¡µé¢..."),d.push("/messages").then(()=>{t("è·¯ç”±è·³è½¬æˆåŠŸ")}).catch(o=>{t(`è·¯ç”±è·³è½¬å¤±è´¥: ${o.message}`)})}function x(){t("æ£€æŸ¥localStorage...");const o=localStorage.getItem("token");t(`localStorageä¸­çš„token: ${o?"å­˜åœ¨":"ä¸å­˜åœ¨"}`),o&&t(`Tokenå€¼: ${o.substring(0,20)}...`)}return T(()=>{t("è¯Šæ–­é¡µé¢åŠ è½½å®Œæˆ"),t(`å½“å‰è·¯ç”±: ${d.currentRoute.value.path}`),x()}),(o,n)=>{const S=R("router-link");return i(),a("div",h,[n[12]||(n[12]=e("h1",null,"ğŸ” ç™»å½•çŠ¶æ€è¯Šæ–­",-1)),e("div",F,[n[6]||(n[6]=e("h3",null,"ğŸ“Š ç”¨æˆ·StoreçŠ¶æ€",-1)),e("p",null,[n[0]||(n[0]=e("strong",null,"Tokenå­˜åœ¨:",-1)),r(" "+l(m.value?"âœ… æ˜¯":"âŒ å¦"),1)]),e("p",null,[n[1]||(n[1]=e("strong",null,"Tokenå€¼:",-1)),r(" "+l(y.value),1)]),e("p",null,[n[2]||(n[2]=e("strong",null,"ç”¨æˆ·ä¿¡æ¯å­˜åœ¨:",-1)),r(" "+l(k.value?"âœ… æ˜¯":"âŒ å¦"),1)]),e("p",null,[n[3]||(n[3]=e("strong",null,"ç”¨æˆ·ä¿¡æ¯:",-1)),r(" "+l(b.value),1)]),e("p",null,[n[4]||(n[4]=e("strong",null,"ç”¨æˆ·IDå­˜åœ¨:",-1)),r(" "+l(v.value?"âœ… æ˜¯":"âŒ å¦"),1)]),e("p",null,[n[5]||(n[5]=e("strong",null,"isLoginçŠ¶æ€:",-1)),r(" "+l(g.value?"âœ… å·²ç™»å½•":"âŒ æœªç™»å½•"),1)])]),e("div",{style:{background:"#e8f4fd",padding:"15px",margin:"10px 0","border-radius":"5px"}},[n[7]||(n[7]=e("h3",null,"ğŸ”§ æ“ä½œæŒ‰é’®",-1)),e("button",{onClick:c,style:{margin:"5px",padding:"8px 15px"}},"åˆ·æ–°ç”¨æˆ·ä¿¡æ¯"),e("button",{onClick:I,style:{margin:"5px",padding:"8px 15px"}},"æµ‹è¯•æ¶ˆæ¯è·¯ç”±"),e("button",{onClick:x,style:{margin:"5px",padding:"8px 15px"}},"æ£€æŸ¥localStorage")]),e("div",j,[n[8]||(n[8]=e("h3",null,"ğŸ“ æ—¥å¿—è¾“å‡º",-1)),(i(!0),a(N,null,U(p.value,($,L)=>(i(),a("div",{key:L,style:{margin:"5px 0"}},l($),1))),128))]),e("div",z,[n[11]||(n[11]=e("h3",null,"ğŸ¯ æ¶ˆæ¯æŒ‰é’®å¯è§æ€§æµ‹è¯•",-1)),e("p",null,[n[9]||(n[9]=e("strong",null,"æ¶ˆæ¯æŒ‰é’®åº”è¯¥æ˜¾ç¤º:",-1)),r(" "+l(f.value?"âœ… æ˜¯":"âŒ å¦"),1)]),f.value?(i(),a("div",A,[B(S,{to:"/messages",style:{display:"inline-block",padding:"10px 20px",background:"#007bff",color:"white","text-decoration":"none","border-radius":"5px",margin:"10px 0"}},{default:M(()=>n[10]||(n[10]=[r(" ğŸ”— æµ‹è¯•æ¶ˆæ¯é“¾æ¥ ")])),_:1,__:[10]})])):V("",!0)])])}}};export{O as default};
